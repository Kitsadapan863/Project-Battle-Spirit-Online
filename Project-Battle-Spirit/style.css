/* พื้นหลังและฟอนต์ */
html {
    box-sizing: border-box;
}

*, *:before, *:after {
    box-sizing: inherit;
}

body {
    font-family: 'Segoe UI', sans-serif;
    background: #4a6d7c;
    background-size: cover;
    background-position: center;
    min-height: 100vh;
    margin: 0;
    padding: 0;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 10px;
    color: white;
    user-select: none;
    overflow-y: scroll;
  }
  
  /* กระดานเกมรวม */
  .game-board {
    display: flex;
    flex-direction: column;
    align-items: center;
    width: 95%;
    max-width: 1200px;
    gap: 10px;
    padding: 10px;
    border-radius: 15px;
    position: relative; 
  }
  
  /* Player Zone (General for both player and opponent) */
  .player-zone {
      display: grid;
      grid-template-columns: 1fr 4.5fr 1fr; 
      grid-template-rows: 1fr;
      gap: 15px;
      width: 100%;
      height: 450px; 
      background: rgb(29 23 23 / 87%);
      border-radius: 15px;
      box-shadow: inset 0 0 10px rgba(0,0,0,0.5);
      padding: 15px;
      box-sizing: border-box;
  }
  
  /* Side Zones (Left/Right columns within player-zone) */
  .side-zone {
      display: flex;
      flex-direction: column;
      justify-content: space-between;
      gap: 10px;
  }
  
  /* Generic Zone Styling */
  .zone {
      background: rgba(0, 0, 0, 0.4);
      border: 2px solid rgba(255, 255, 255, 0.3);
      /* border-radius: 12px; */
      padding: 5px;
      display: flex;
      flex-direction: column;
      justify-content: flex-start;
      align-items: center;
      text-align: center;
      font-weight: bold;
      color: #fff;
      text-shadow: 1px 1px 2px rgba(0,0,0,0.7);
      box-sizing: border-box;
      backdrop-filter: blur(3px);
      -webkit-backdrop-filter: blur(3px);
      font-size: 0.9em;
      position: relative;
      overflow: hidden;
      padding-top: 25px;
  }
  
  .zone > span {
      position: absolute;
      top: 5px;
      left: 0;
      right: 0;
      font-weight: bold;
      text-align: center;
  }

  .zone.life {
      height: 130px;
      margin-top: 150px;
  }
  .zone.reserve {
      height: 130px;
  }
  
  .zone.deck {
        width: 100%;
        height: 160px;
        background-color: rgba(0, 0, 0, 0.6);
        background-image: url('./images/BS_back.webp');
        background-size: contain;
        background-repeat: no-repeat;
        background-position: center center;
        justify-content: flex-end;
        padding-bottom: 8px;
        font-size: 1.1em;
        text-shadow: 0 0 5px black, 0 0 5px black;
        border: 2px solid rgba(255, 255, 255, 0.2);
    }
  .zone.trash.cost-trash {
    height: 120px;
  }
  .zone.trash.card-trash {
    height: 120px;
    justify-content: center;
    cursor: pointer; /* Add pointer to show it's clickable */
  }

.latest-card-image {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-size: contain;
    background-position: center;
    background-repeat: no-repeat;
    opacity: 0.3;
    z-index: -1;
}

/* FIXED: Adjusted Field zone to support Spirit and Nexus rows */
.zone.field {
    background-color: rgba(240, 248, 255, 0.15);
    flex-direction: column; /* Stack spirit/nexus rows vertically */
    justify-content: space-between; /* Push nexuses to the bottom */
    gap: 10px;
    padding: 10px;
    overflow: visible;
}

/* NEW: Style for the rows inside the field */
.field-row {
    display: flex;
    flex-wrap: wrap;
    align-items: flex-start;
    align-content: flex-start;
    gap: 10px;
    width: 100%;
}

.nexus-row {
    min-height: 150px; /* Ensure nexus row has a minimum height */
}
  
  /* Central Control Area */
  .center-area {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 10px;
    width: 100%;
}

.phase-indicator {
    display: flex;
    gap: 5px;
    background-color: rgba(0,0,0,0.4);
    padding: 8px;
    border-radius: 10px;
}
.phase-step {
    padding: 5px 15px;
    border-radius: 8px;
    font-weight: bold;
    color: #a0aec0;
    transition: all 0.3s ease;
}
.phase-step.active-phase {
    background-color: #007bff;
    color: white;
    box-shadow: 0 0 10px #00d2ff;
}

.center-controls {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 30px;
    width: 100%;
}

#turn-indicator {
    font-size: 1.5rem;
    font-weight: bold;
    padding: 10px 20px;
    background-color: rgba(0,0,0,0.5);
    border-radius: 10px;
    text-shadow: 0 0 5px cyan;
}

#phase-btn {
    padding: 12px 25px;
    font-size: 1.1rem;
    font-weight: bold;
    color: white;
    background: linear-gradient(45deg, #007bff, #00d2ff);
    border: none;
    border-radius: 8px;
    cursor: pointer;
    transition: all 0.2s ease;
    box-shadow: 0 4px 15px rgba(0, 123, 255, 0.4);
    min-width: 180px;
    text-align: center;
}
#phase-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(0, 123, 255, 0.6);
}
#phase-btn:disabled {
    background: #555;
    cursor: not-allowed;
    box-shadow: none;
    transform: none;
}
  
  /* Life Zone and Core Container */
  .life-circles {
      display: flex;
      flex-wrap: wrap;
      margin-left: 15px;
      gap: 8px;
      /* justify-content: center; */
      align-items: center;
      padding: 5px;
      width: 100%;
  }

  .core-container {
      display: flex;
      flex-wrap: wrap;
      align-items: center;
      padding: 1px;
      width: 100%;
  }

  .life-circles {
      max-width: 150px;
  }

  .life-circle {
      width: 25px;
      height: 25px;
      background-color: #00c3ff;
      border-radius: 50%;
      border: 2px solid #00567a;
      box-shadow: 0 0 8px rgba(0, 238, 255, 0.8);
      background-image: none;
      padding: 15px;
  }
  
  .core {
    width: 22px;
    height: 22px;
    background-image: url('./images/Blue_core.webp');
    background-size: contain;
    background-repeat: no-repeat;
    background-position: center;
    cursor: grab;
    transition: all 0.2s ease;
    background-color: transparent;
    border: none;
    border-radius: 0;
    box-shadow: none;
  }
  
  .core.dragging { 
      opacity: 0.7; 
      transform: scale(1.1);
  }
  
  .core.selectable-for-payment {
      filter: drop-shadow(0 0 4px gold);
  }

  .core.selected-for-payment {
      opacity: 0.5;
      transform: scale(0.8);
      filter: drop-shadow(0 0 4px #ff4500);
  }

  .cost-trash .core-container {
      flex-direction: row;
  }
  
  /* Hand Styling */
  .hand {
    width: 100%;
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 10px;
    background-color: rgba(0,0,0,0.3);
    border-radius: 15px;
    height: 160px;
  }
  .hand h2 {
      color: #fff;
      text-shadow: 1px 1px 2px rgba(0,0,0,0.5);
      margin: 0 0 5px 0;
      font-size: 1em;
  }
  .hand .card-container {
      display: flex;
      flex-direction: row;
      gap: 10px;
      overflow-x: auto;
      width: 100%;
      height: 100%;
      padding: 10px 5px;
      box-sizing: border-box;
      background-color: rgba(255,255,255,0.1);
      border-radius: 10px;
  }
  
/* Card Styling */
.card {
    min-width: 100px;
    width: 100px;
    height: 140px;
    border-radius: 8px;
    padding: 5px;
    text-align: center;
    cursor: grab;
    flex-shrink: 0;
    display: flex;
    flex-direction: column;
    align-items: center;
    position: relative;
    transition: all 0.2s ease-out;
    justify-content: flex-start;
    overflow: hidden;
    border: 2px solid transparent;
  }
  /* NEW: Style for Nexus cards on the field */
.card.nexus {
    transform: none; /* Override exhausted transform if any */
    margin-right: 0;
}
.card.nexus:hover {
    transform: translateY(-5px); /* Simple hover for nexus */
}

  .card.dragging { opacity: 0.5; }
  
  .field .card, .hand .card {
      cursor: pointer;
  }
  
  .hand .card:hover {
      transform: translateY(-10px) scale(1.05);
      border-color: #00d2ff;
  }
  
  .card.can-attack {
      border-color: #39ff14;
      box-shadow: 0 0 15px #39ff14;
      animation: pulse-green 1.5s infinite;
  }
  @keyframes pulse-green {
      0% { box-shadow: 0 0 5px #39ff14; }
      50% { box-shadow: 0 0 20px #39ff14; }
      100% { box-shadow: 0 0 5px #39ff14; }
  }
  
  /* FIXED: Adjusted exhausted card transform to prevent overlap and vertical shift */
  .card.exhausted {
      transform-origin: center center;
      /* (140-100)/2 = 20px. Translate X pushes it right, Translate Y aligns it vertically. */
      transform: rotate(90deg) translateX(20px) translateY(-20px);
      border-color: #888;
      box-shadow: none;
      animation: none;
      margin-right: 40px; /* 140px (new width) - 100px (old width) = 40px */
  }
  /* .card.exhausted:hover {
      transform: rotate(90deg) translateX(20px) translateY(20px) scale(1.05);
  } */
  
  .zone.drag-over {
      border: 2px dashed #007bff;
      background-color: rgba(0, 123, 255, 0.2);
  }
  .card.drag-over-core {
      border: 2px dashed gold;
      box-shadow: 0 0 15px gold;
  }
  
  .card img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    border-radius: 4px;
  }
  
  .opponent-hand .card img {
      content: url('./images/BS_back.webp');
      object-fit: contain;
  }
  
  .card-info {
      position: absolute;
      bottom: 0;
      left: 0;
      right: 0;
      background: rgba(0,0,0,0.6);
      padding: 2px;
      font-size: 0.8em;
  }
  
  .card-core-display {
      position: absolute;
      top: 5px; 
      right: 5px; 
      display: flex;
      flex-wrap: wrap; 
      gap: 4px;
      padding: 2px;
      max-width: 90%;
      z-index: 5;
  }
  
  /* Cores on Spirits */
  .card .core {
      width: 20px;
      height: 20px;
  }
  
  /* Modal Styling */
  .modal-overlay {
      position: fixed;
      top: 0; left: 0; right: 0; bottom: 0;
      background: rgba(0,0,0,0.3);
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 1000;
      opacity: 0;
      visibility: hidden;
      transition: opacity 0.3s, visibility 0.3s;
      pointer-events: none; 
  }

#summon-payment-overlay, 
#placement-overlay,
#defense-overlay,
#flash-overlay,
#evolution-modal,
#flash-payment-overlay {
    align-items: flex-start;
    padding-top: 20px;
}

.modal-overlay.visible {
    opacity: 1;
    visibility: visible;
}
.modal-content {
    background: linear-gradient(135deg, #2b3248, #1c2130);
    padding: 40px;
    border-radius: 20px;
    text-align: center;
    border: 2px solid #00d2ff;
    box-shadow: 0 0 30px rgba(0, 210, 255, 0.5);
    transform: scale(0.7);
    transition: transform 0.3s;
    pointer-events: auto;
}
.modal-overlay.visible .modal-content {
    transform: scale(1);
}
#game-over-message {
    font-size: 3rem;
    margin-bottom: 20px;
}
#restart-btn {
    padding: 15px 30px;
    font-size: 1.2rem;
    background: linear-gradient(45deg, #28a745, #20c997);
    border: none;
    border-radius: 10px;
    color: white;
    cursor: pointer;
    transition: all 0.2s ease;
}
#restart-btn:hover {
    transform: scale(1.05);
    box-shadow: 0 0 15px rgba(40, 167, 69, 0.7);
}
  
/* Payment Modal Styles */
.payment-modal {
    padding: 20px;
    width: 360px;
}
.payment-modal h3 {
    font-size: 1.3rem;
    margin-top: 0;
    margin-bottom: 10px;
    color: #00d2ff;
}
.payment-modal p {
    margin-bottom: 15px;
    font-size: 0.9rem;
}
.payment-details {
    display: flex;
    justify-content: space-around;
    font-size: 1.1rem;
    margin-bottom: 20px;
}
.payment-buttons {
    display: flex;
    justify-content: center;
    gap: 15px;
}
.payment-buttons button {
    padding: 8px 16px;
    font-size: 0.9rem;
    border-radius: 8px;
    border: none;
    cursor: pointer;
    transition: all 0.2s ease;
}
#confirm-summon-btn, #confirm-flash-btn , #confirm-magic-btn{
    background: linear-gradient(45deg, #28a745, #20c997);
    color: white;
}
#confirm-summon-btn:disabled, #confirm-flash-btn:disabled , #confirm-magic-btn:disabled{
    background: #555;
    cursor: not-allowed;
}
#cancel-summon-btn, #cancel-flash-btn, #cancel-magic-btn {
    background: linear-gradient(45deg, #dc3545, #c82333);
    color: white;
}

.placement-modal {
    padding: 25px;
}
.placement-buttons button {
    padding: 10px 20px;
    font-size: 1rem;
    background: linear-gradient(45deg, #007bff, #00d2ff);
    color: white;
}

.core.selectable-for-placement {
    filter: drop-shadow(0 0 4px #39ff14);
}

.card.can-block {
    border-color: #00d2ff;
    box-shadow: 0 0 15px #00d2ff;
    animation: pulse-blue 1.5s infinite;
}
@keyframes pulse-blue {
    0% { box-shadow: 0 0 5px #00d2ff; }
    50% { box-shadow: 0 0 20px #00d2ff; }
    100% { box-shadow: 0 0 5px #00d2ff; }
}

.defense-modal {
    padding: 25px;
    width: 360px;
}
#defense-attacker-info {
    margin-bottom: 15px;
    padding: 10px;
    background-color: rgba(0,0,0,0.3);
    border-radius: 10px;
    font-size: 1.1em;
}
.defense-buttons {
    margin-top: 20px;
    display: flex;
    justify-content: center;
}
#take-damage-btn {
    padding: 10px 20px;
    font-size: 1rem;
    background: linear-gradient(45deg, #dc3545, #c82333);
    color: white;
    border: none;
    border-radius: 8px;
    cursor: pointer;
}


.card.can-flash {
    border-color: gold;
    box-shadow: 0 0 15px gold;
    animation: pulse-gold 1.5s infinite;
}
@keyframes pulse-gold {
    0% { box-shadow: 0 0 5px gold; }
    50% { box-shadow: 0 0 20px gold; }
    100% { box-shadow: 0 0 5px gold; }
}

/* NEW: Style for cards that can be discarded */
.card.can-discard {
    border-color: #ff4500;
    box-shadow: 0 0 15px #ff4500;
}
.card.selected-for-discard {
    transform: translateY(-10px) scale(1.08);
    border-color: red;
    box-shadow: 0 0 20px red;
}

.flash-modal {
    padding: 25px;
    width: 360px;
    border-color: gold;
}
.flash-modal h3 {
    color: gold;
}
.flash-buttons {
    margin-top: 20px;
}
#pass-flash-btn {
    padding: 10px 20px;
    font-size: 1rem;
    background: linear-gradient(45deg, #6c757d, #5a6268);
    color: white;
    border: none;
    border-radius: 8px;
    cursor: pointer;
}

/* NEW: Styles for Discard Modal */
.discard-modal {
    padding: 25px;
    width: 360px;
    border-color: #ff4500;
}
.discard-modal h3 {
    color: #ff4500;
}
.discard-buttons button {
    padding: 10px 20px;
    font-size: 1rem;
    color: white;
    border: none;
    border-radius: 8px;
    cursor: pointer;
    background: linear-gradient(45deg, #28a745, #20c997);
}
.discard-buttons button:disabled {
    background: #555;
    cursor: not-allowed;
}


/* NEW: Style for the Card Trash Viewer Modal */
.trash-viewer-modal {
    width: 80%;
    max-width: 900px;
    height: 70%;
    padding: 20px;
    display: flex;
    flex-direction: column;
}
.trash-viewer-modal h3 {
    margin-top: 0;
    color: #00d2ff;
}
.trash-viewer-modal .card-container {
    flex-grow: 1;
    overflow-y: auto; /* Allow scrolling */
    background: rgba(0,0,0,0.3);
    border-radius: 10px;
    padding: 10px;
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
    justify-content: center;
}
.trash-viewer-modal .card {
    cursor: default; /* Cards in trash are not clickable */
}
.trash-viewer-modal .card:hover {
    transform: none; /* No hover effect */
    border-color: transparent;
}
#close-trash-viewer-btn {
    margin-top: 15px;
    padding: 10px 20px;
    font-size: 1rem;
    background: linear-gradient(45deg, #6c757d, #5a6268);
    color: white;
    border: none;
    border-radius: 8px;
    cursor: pointer;
    align-self: center;
}

#close-trash-viewer-btn, 
#close-opponent-trash-viewer-btn { /* Apply same style to new close button */
    margin-top: 15px;
    padding: 10px 20px;
    font-size: 1rem;
    background: linear-gradient(45deg, #6c757d, #5a6268);
    color: white;
    border: none;
    border-radius: 8px;
    cursor: pointer;
    align-self: center;
}


#confirm-deck-discard-btn, #confirm-reveal-btn {
    margin-top: 15px;
    padding: 10px 20px;
    font-size: 1rem;
    background: linear-gradient(45deg, #007bff, #00d2ff);
    color: white;
    border: none;
    border-radius: 8px;
    cursor: pointer;
    align-self: center;
}

/* NEW: Styles for the confirmation modal */
.confirmation-modal {
    padding: 25px;
    width: 380px;
    border-color: #ffc107;
}
.confirmation-modal h3 {
    color: #ffc107;
}
.confirmation-buttons {
    display: flex;
    justify-content: center;
    gap: 15px;
    margin-top: 20px;
}
.confirmation-buttons button {
    padding: 10px 20px;
    font-size: 1rem;
    border-radius: 8px;
    border: none;
    cursor: pointer;
    color: white;
}
#confirm-core-removal-btn {
    background: linear-gradient(45deg, #dc3545, #c82333);
}
#cancel-core-removal-btn {
    background: linear-gradient(45deg, #6c757d, #5a6268);
}

/* Turn Counter Styles */
.turn-counter {
    background-color: rgba(0, 0, 0, 0.5);
    border-radius: 10px;
    padding: 8px 16px;
    text-align: center;
    width: 120px;
    height: 70px;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    border: 2px solid rgba(255, 255, 255, 0.2);
}

.turn-counter .turn-label {
    font-size: 0.9em;
    color: #a0aec0;
    font-weight: bold;
    text-transform: uppercase;
    line-height: 1;
}

.turn-counter .turn-number-display {
    font-size: 2.2em;
    font-weight: bold;
    color: #ffffff;
    line-height: 1.1;
    text-shadow: 0 0 8px #00d2ff;
}

/* Style for buffed BP */
.card-info .bp-buffed {
    color: #39ff14; /* A bright green color */
    font-weight: bold;
    text-shadow: 0 0 5px #39ff14; /* A subtle glow effect */
}

/* Styles for the new Effect Choice Modal */
.confirmation-modal .cancel-btn {
    margin-top: 15px;
    padding: 10px 20px;
    font-size: 1rem;
    background: linear-gradient(45deg, #6c757d, #5a6268);
    color: white;
    border: none;
    border-radius: 8px;
    cursor: pointer;
}

#effect-choice-buttons button {
    padding: 10px 20px;
    font-size: 1rem;
    border-radius: 8px;
    border: none;
    cursor: pointer;
    color: white;
}

#effect-choice-main-btn {
    background: linear-gradient(45deg, #007bff, #00d2ff);
}

#effect-choice-flash-btn {
    background: linear-gradient(45deg, #ffc107, #ff9800);
}

/* Card Detail Viewer Styles */
.card-detail-viewer {
    position: fixed;
    right: 20px;
    top: 50%;
    transform: translateY(-50%);
    width: 280px;
    background: rgba(10, 20, 40, 0.9);
    border: 2px solid #00d2ff;
    border-radius: 15px;
    padding: 15px;
    box-shadow: 0 0 25px rgba(0, 210, 255, 0.5);
    display: none; /* ซ่อนไว้เป็นค่าเริ่มต้น */
    flex-direction: column;
    gap: 15px;
    z-index: 2000;
    backdrop-filter: blur(5px);
    pointer-events: none; /* ทำให้เม้าส์คลิกทะลุได้ */
}

.card-detail-viewer.visible {
    display: flex; /* แสดงผลเมื่อมีคลาส visible */
}

#detail-card-image {
    width: 100%;
    border-radius: 8px;
}

.card-effects-text {
    font-family: 'Segoe UI', sans-serif;
    color: #fff;
    white-space: pre-wrap; /* ทำให้ข้อความขึ้นบรรทัดใหม่ตาม \n */
    line-height: 1.6;
    max-height: 300px; /* จำกัดความสูงและให้มี scrollbar */
    overflow-y: auto;
    font-size: 0.9em;
    padding-right: 5px; /* เพิ่มช่องว่างสำหรับ scrollbar */
}

.card-effects-text strong {
    color: #ffc107; /* สีทองสำหรับ Timing เช่น [Main] [Flash] */
}

/* Styles for the new Targeting Overlay */
.targeting-modal {
    padding: 25px;
    width: 360px;
    border-color: #39ff14; /* สีเขียวเพื่อให้รู้ว่าต้องทำ Action */
    /* pointer-events: none;  */
}

.targeting-modal h3 {
    color: #39ff14;
}

/* Style for cards that can be targeted */
.card.can-be-targeted {
    border-color: #39ff14;
    box-shadow: 0 0 20px #39ff14;
    animation: pulse-green 1.5s infinite;
}
#confirm-targets-btn, .effect-choice-btn{
    background: linear-gradient(45deg, #28a745, #20c997);
    color: white;
}
#confirm-targets-btn:disabled{
    background: #555;
    cursor: not-allowed;
}

/* Style for hidden elements */
.hidden {
    display: none !important;
}

/* Styles for Game Mode Selection Screen */
.selection-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: #4a6d7c;
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 9999;
}

.selection-content {
    text-align: center;
    color: white;
    background: rgba(10, 20, 40, 0.9);
    padding: 50px 80px;
    border-radius: 20px;
    border: 2px solid #00d2ff;
    box-shadow: 0 0 30px rgba(0, 210, 255, 0.5);
}

.selection-content h1 {
    margin: 0 0 10px 0;
    font-size: 3.5rem;
    text-shadow: 0 0 10px #00d2ff;
}

.selection-content p {
    margin-bottom: 30px;
    font-size: 1.2rem;
    color: #a0aec0;
}

.selection-buttons {
    display: flex;
    gap: 20px;
}

.mode-btn {
    padding: 15px 30px;
    font-size: 1.2rem;
    font-weight: bold;
    color: white;
    background: linear-gradient(45deg, #007bff, #00d2ff);
    border: none;
    border-radius: 10px;
    cursor: pointer;
    transition: all 0.2s ease;
    box-shadow: 0 4px 15px rgba(0, 123, 255, 0.4);
}

.mode-btn:hover {
    transform: translateY(-3px);
    box-shadow: 0 6px 20px rgba(0, 123, 255, 0.6);
}

/* Style สำหรับ Core ที่สามารถเลือกเพื่อย้ายได้ใน Main Step */
.core.selectable-for-move {
    cursor: pointer;
    filter: drop-shadow(0 0 4px #00d2ff); /* แสงสีฟ้าอ่อน */
}

/* Style สำหรับ Core ที่กำลังถูกเลือกอยู่ */
.core.selected-for-move {
    transform: scale(1.2);
    filter: drop-shadow(0 0 8px yellow); /* แสงสีเหลืองสด */
}

/* Style สำหรับเป้าหมาย (Spirit หรือ Reserve) ที่สามารถวาง Core ลงได้ */
.can-be-core-target {
    border: 2px dashed yellow !important;
    box-shadow: 0 0 15px yellow !important;
}

.card.can-main {
    border-color: #00d2ff;
    box-shadow: 0 0 15px #00d2ff;
    animation: pulse-blue 1.5s infinite;
}

.rps-modal {
    width: 400px;
    border-color: #ffc107;
}
.rps-modal h3 {
    color: #ffc107;
}
.rps-choices {
    display: flex;
    justify-content: center;
    gap: 20px;
    margin: 20px 0;
}
.rps-btn {
    font-size: 3rem;
    padding: 15px 25px;
    border-radius: 15px;
    border: 2px solid transparent;
    background-color: rgba(255, 255, 255, 0.1);
    color: white;
    cursor: pointer;
    transition: all 0.2s ease;
}
.rps-btn:hover {
    background-color: rgba(255, 255, 255, 0.2);
    border-color: #ffc107;
}
.rps-btn.selected {
    border-color: #00d2ff;
    box-shadow: 0 0 15px #00d2ff;
    transform: scale(1.1);
}
#rps-result {
    font-size: 1.2rem;
    font-weight: bold;
    min-height: 25px;
}

/* Evolution*/

.evolution-modal { width: 360px; height: 300px; border-color: #e74c3c; }
.evolution-modal h3 { color: #e74c3c; }
.evolution-details { margin: 15px 0; font-size: 1.1em; }
.evolution-buttons { display: flex; justify-content: center; gap: 15px; margin-top: 10px; }
.evolution-buttons button { padding: 8px 16px; font-size: 0.9rem; border-radius: 8px; border: none; cursor: pointer; color: white; }
#confirm-evolution-btn { background: linear-gradient(45deg, #28a745, #20c997); }
#cancel-evolution-btn { background: linear-gradient(45deg, #6c757d, #5a6268); }

/* สไตล์สำหรับ Spirit ที่กดใช้ Evolution ได้ */
.card.can-evolve { border-color: #e74c3c; box-shadow: 0 0 15px #e74c3c; animation: pulse-red 1.5s infinite; }
@keyframes pulse-red { 0% { box-shadow: 0 0 5px #e74c3c; } 50% { box-shadow: 0 0 20px #e74c3c; } 100% { box-shadow: 0 0 5px #e74c3c; } }

/* สไตล์สำหรับ Core ที่เลือกได้ */
.core.selectable-for-evolution { filter: drop-shadow(0 0 4px #e74c3c); }
.core.selected-for-evolution { transform: scale(0.8); opacity: 0.5; filter: drop-shadow(0 0 4px #e74c3c); }

/* Style สำหรับ Spirit ที่สามารถถูกเลือกเป็นเป้าโจมตีได้ */
.card.can-be-attack-target {
    border-color: #e74c3c; /* สีแดงเหมือน Evolution */
    box-shadow: 0 0 20px #e74c3c;
    animation: pulse-red 1.5s infinite;
}

/* จัดตำแหน่ง Attack Choice Modal ให้อยู่ด้านบน */
#attack-choice-modal.modal-overlay {
    align-items: flex-start; /* จัดให้อยู่ด้านบนสุดของ Flex container */
    padding-top: 50px;       /* เพิ่มระยะห่างจากขอบบน 50px (ปรับค่าได้ตามชอบ) */
}

/* ปรับขนาดและความสูงของ Modal Content (ที่คุณให้มา) */
#attack-choice-modal .modal-content {
    width: 400px; /* ปรับความกว้างตามที่ต้องการ */
}
#attack-choice-life-btn,#attack-choice-spirit-btn { 
    background: linear-gradient(45deg, hsl(0, 89%, 43%), #c94720);
    color: white;
}

/* สไตล์สำหรับ Modal ของ Assault */
.assault-modal {
    width: 60%;
    max-width: 700px;
    border-color: #e74c3c; /* สีแดงเหมือน Evolution */
}

.assault-modal h3 {
    color: #e74c3c;
}

/* Container สำหรับแสดง Nexus ที่เลือกได้ */
#assault-nexus-container {
    margin: 20px 0;
    padding: 10px;
    background-color: rgba(0,0,0,0.3);
    border-radius: 10px;
    min-height: 160px;
    justify-content: center; /* จัดให้อยู่กลางถ้ามีน้อย */
}

/* สไตล์สำหรับปุ่ม Skip */
.assault-buttons button {
    padding: 10px 20px;
    font-size: 1rem;
    color: white;
    border: none;
    border-radius: 8px;
    cursor: pointer;
    background: linear-gradient(45deg, #6c757d, #5a6268);
}

/* สไตล์สำหรับ Nexus ที่สามารถเลือกเพื่อใช้ Assault ได้ */
.card.can-be-assault-nexus {
    border-color: #e74c3c;
    box-shadow: 0 0 15px #e74c3c;
    animation: pulse-red 1.5s infinite;
}

.card.can-high-speed-summon {
    border-color: #2ecc71;
    box-shadow: 0 0 15px #2ecc71;
    animation: pulse-green 1.5s infinite;
}

#logout-btn {
    padding: 10px 20px; /* เพิ่มขนาด padding เล็กน้อย */
    border: none;
    border-radius: 8px; /* ปรับให้เข้ากับปุ่มอื่น */
    background-color: #c0392b;
    color: white;
    font-weight: bold;
    cursor: pointer;
    margin-top: 0px; /* เพิ่ม margin ด้านบนเพื่อให้ห่างจากข้อความต้อนรับ */
    font-size: 1em; /* ปรับขนาด font ให้เข้ากับส่วนอื่น */
    
}